import{g as mr,d as Br,c as m,_ as h,a as p,l as ar,b as gr,u as Vr,e as Jr,i as br,f as Qr,h as A,C as ir,j as w,k as qr,m as Kr,p as Yr,P as Zr,n as xr,o as kr,q as rt,r as tt}from"./index.6a659667.js";import{i as et}from"./is-plan-event-enabled.6c12943d.js";import{applyDestinationMiddleware as nt}from"./index.808e9c66.js";var I={},Y={};for(var _r=[],g=0;g<64;)_r[g]=0|4294967296*Math.sin(++g%Math.PI);function at(r){var t,e,n,a=[t=1732584193,e=4023233417,~t,~e],i=[],o=unescape(encodeURI(r))+"\x80",s=o.length;for(r=--s/4+2|15,i[--r]=8*s;~s;)i[s>>2]|=o.charCodeAt(s)<<8*s--;for(g=o=0;g<r;g+=16){for(s=a;o<64;s=[n=s[3],t+((n=s[0]+[t&e|~t&n,n&t|~n&e,t^e^n,e^(t|~n)][s=o>>4]+_r[o]+~~i[g|15&[o,5*o+1,3*o+5,7*o][s]])<<(s=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*s+o++%4])|n>>>-s),t,e])t=0|s[1],e=s[2];for(o=4;o;)a[--o]+=s[o]}for(r="";o<32;)r+=(a[o>>3]>>4*(1^o++)&15).toString(16);return r}const it=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"})),ot=mr(it);var E={exports:{}};(function(r,t){(function(e,n){r.exports=function(a,i,o,s,u){for(i=i.split?i.split("."):i,s=0;s<i.length;s++)a=a?a[i[s]]:u;return a===u?o:a}})()})(E);/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var st=Number.POSITIVE_INFINITY,Ar=st;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ut=Number;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var lt=ut,ft=lt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var vt=ft,ct=vt.NEGATIVE_INFINITY,wr=ct;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dt=1023,Sr=dt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ht=1023,pt=ht;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var yt=-1023,$t=yt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var mt=-1074,gt=mt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function bt(r){return r!==r}var _t=bt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var At=_t,Nr=At;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wt=Ar,St=wr;function Nt(r){return r===wt||r===St}var Ot=Nt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var It=Ot,Or=It;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ut(){return typeof Symbol=="function"&&typeof Symbol("foo")=="symbol"}var Et=Ut;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Pt=Et,Lt=Pt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ft=Lt,Tt=Ft();function Mt(){return Tt&&typeof Symbol.toStringTag=="symbol"}var jt=Mt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Wt=jt,Ct=Wt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ht=Object.prototype.toString,Ir=Ht;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Dt=Ir;function Rt(r){return Dt.call(r)}var zt=Rt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gt=Object.prototype.hasOwnProperty;function Xt(r,t){return r==null?!1:Gt.call(r,t)}var Bt=Xt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vt=Bt,Jt=Vt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qt=typeof Symbol=="function"?Symbol.toStringTag:"",qt=Qt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Kt=Jt,S=qt,T=Ir;function Yt(r){var t,e,n;if(r==null)return T.call(r);e=r[S],t=Kt(r,S);try{r[S]=void 0}catch{return T.call(r)}return n=T.call(r),t?r[S]=e:delete r[S],n}var Zt=Yt;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var xt=Ct,kt=zt,re=Zt,R;xt()?R=re:R=kt;var P=R;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var te=P,ee=typeof Uint32Array=="function";function ne(r){return ee&&r instanceof Uint32Array||te(r)==="[object Uint32Array]"}var ae=ne;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ie=ae,oe=ie;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var se=4294967295,ue=se;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var le=typeof Uint32Array=="function"?Uint32Array:null,fe=le;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ve=oe,M=ue,or=fe;function ce(){var r,t;if(typeof or!="function")return!1;try{t=[1,3.14,-3.14,M+1,M+2],t=new or(t),r=ve(t)&&t[0]===1&&t[1]===3&&t[2]===M-2&&t[3]===0&&t[4]===1}catch{r=!1}return r}var de=ce;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var he=de,pe=he;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ye=typeof Uint32Array=="function"?Uint32Array:void 0,$e=ye;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function me(){throw new Error("not implemented")}var ge=me;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var be=pe,_e=$e,Ae=ge,z;be()?z=_e:z=Ae;var Z=z;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var we=P,Se=typeof Float64Array=="function";function Ne(r){return Se&&r instanceof Float64Array||we(r)==="[object Float64Array]"}var Oe=Ne;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ie=Oe,Ue=Ie;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ee=typeof Float64Array=="function"?Float64Array:null,Pe=Ee;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Le=Ue,sr=Pe;function Fe(){var r,t;if(typeof sr!="function")return!1;try{t=new sr([1,3.14,-3.14,NaN]),r=Le(t)&&t[0]===1&&t[1]===3.14&&t[2]===-3.14&&t[3]!==t[3]}catch{r=!1}return r}var Te=Fe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Me=Te,je=Me;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var We=typeof Float64Array=="function"?Float64Array:void 0,Ce=We;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function He(){throw new Error("not implemented")}var De=He;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Re=je,ze=Ce,Ge=De,G;Re()?G=ze:G=Ge;var x=G;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Xe=P,Be=typeof Uint8Array=="function";function Ve(r){return Be&&r instanceof Uint8Array||Xe(r)==="[object Uint8Array]"}var Je=Ve;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Qe=Je,qe=Qe;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ke=255,Ye=Ke;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ze=typeof Uint8Array=="function"?Uint8Array:null,xe=Ze;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ke=qe,j=Ye,ur=xe;function rn(){var r,t;if(typeof ur!="function")return!1;try{t=[1,3.14,-3.14,j+1,j+2],t=new ur(t),r=ke(t)&&t[0]===1&&t[1]===3&&t[2]===j-2&&t[3]===0&&t[4]===1}catch{r=!1}return r}var tn=rn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var en=tn,nn=en;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var an=typeof Uint8Array=="function"?Uint8Array:void 0,on=an;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function sn(){throw new Error("not implemented")}var un=sn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ln=nn,fn=on,vn=un,X;ln()?X=fn:X=vn;var cn=X;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var dn=P,hn=typeof Uint16Array=="function";function pn(r){return hn&&r instanceof Uint16Array||dn(r)==="[object Uint16Array]"}var yn=pn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $n=yn,mn=$n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var gn=65535,bn=gn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _n=typeof Uint16Array=="function"?Uint16Array:null,An=_n;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var wn=mn,W=bn,lr=An;function Sn(){var r,t;if(typeof lr!="function")return!1;try{t=[1,3.14,-3.14,W+1,W+2],t=new lr(t),r=wn(t)&&t[0]===1&&t[1]===3&&t[2]===W-2&&t[3]===0&&t[4]===1}catch{r=!1}return r}var Nn=Sn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var On=Nn,In=On;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Un=typeof Uint16Array=="function"?Uint16Array:void 0,En=Un;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Pn(){throw new Error("not implemented")}var Ln=Pn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Fn=In,Tn=En,Mn=Ln,B;Fn()?B=Tn:B=Mn;var jn=B;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Wn=cn,Cn=jn,Hn={uint16:Cn,uint8:Wn},Dn=Hn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var fr=Dn,Ur;function Rn(){var r,t;return r=new fr.uint16(1),r[0]=4660,t=new fr.uint8(r.buffer),t[0]===52}Ur=Rn();var zn=Ur;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Gn=zn,k=Gn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Xn=k,Er,V,J;Xn===!0?(V=1,J=0):(V=0,J=1);Er={HIGH:V,LOW:J};var Bn=Er;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Vn=Z,Jn=x,Pr=Bn,Lr=new Jn(1),vr=new Vn(Lr.buffer),Qn=Pr.HIGH,qn=Pr.LOW;function Kn(r,t){return Lr[0]=t,r[0]=vr[Qn],r[1]=vr[qn],r}var Yn=Kn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var cr=Yn;function Zn(r,t){return arguments.length===1?cr([0,0],r):cr(r,t)}var xn=Zn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var kn=xn,Fr=kn;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ra=k,Q;ra===!0?Q=1:Q=0;var ta=Q;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ea=Z,na=x,aa=ta,Tr=new na(1),ia=new ea(Tr.buffer);function oa(r){return Tr[0]=r,ia[aa]}var sa=oa;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ua=sa,Mr=ua;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var la=k,jr,q,K;la===!0?(q=1,K=0):(q=0,K=1);jr={HIGH:q,LOW:K};var fa=jr;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var va=Z,ca=x,Wr=fa,Cr=new ca(1),dr=new va(Cr.buffer),da=Wr.HIGH,ha=Wr.LOW;function pa(r,t){return dr[da]=r,dr[ha]=t,Cr[0]}var ya=pa;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var $a=ya,Hr=$a;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ma=Fr,ga=Mr,ba=Hr,_a=2147483648>>>0,Aa=2147483647,C=[0,0];function wa(r,t){var e,n;return ma(C,r),e=C[0],e&=Aa,n=ga(t),n&=_a,e|=n,ba(e,C[1])}var Sa=wa;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Na=Sa,Oa=Na;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ia=22250738585072014e-324,Ua=Ia;/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ea(r){return Math.abs(r)}var Pa=Ea;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var La=Pa,Fa=La;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ta=Ua,Ma=Or,ja=Nr,Wa=Fa,Ca=4503599627370496;function Ha(r,t){return ja(t)||Ma(t)?(r[0]=t,r[1]=0,r):t!==0&&Wa(t)<Ta?(r[0]=t*Ca,r[1]=-52,r):(r[0]=t,r[1]=0,r)}var Da=Ha;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var hr=Da;function Ra(r,t){return arguments.length===1?hr([0,0],r):hr(r,t)}var za=Ra;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ga=za,Xa=Ga;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ba=2146435072,Va=Ba;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Ja=Mr,Qa=Va,qa=Sr;function Ka(r){var t=Ja(r);return t=(t&Qa)>>>20,t-qa|0}var Ya=Ka;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var Za=Ya,xa=Za;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var ka=Ar,ri=wr,ti=Sr,ei=pt,ni=$t,ai=gt,ii=Nr,oi=Or,si=Oa,ui=Xa,li=xa,fi=Fr,vi=Hr,ci=2220446049250313e-31,di=2148532223>>>0,H=[0,0],D=[0,0];function hi(r,t){var e,n;return r===0||ii(r)||oi(r)?r:(ui(H,r),r=H[0],t+=H[1],t+=li(r),t<ai?si(0,r):t>ei?r<0?ri:ka:(t<=ni?(t+=52,n=ci):n=1,fi(D,r),e=D[0],e&=di,e|=t+ti<<20,n*vi(e,D[1])))}var pi=hi;/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var yi=pi,$i=yi;const mi=mr(Br);var L={},gi=m&&m.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(L,"__esModule",{value:!0});L.unset=void 0;var bi=gi(E.exports);function _i(r,t){if((0,bi.default)(r,t)){for(var e=t.split("."),n=e.pop();e.length&&e[e.length-1].slice(-1)==="\\";)n=e.pop().slice(0,-1)+"."+n;for(;e.length;)r=r[t=e.shift()];return delete r[n]}return!0}L.unset=_i;var rr=m&&m.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Y,"__esModule",{value:!0});var Ai=rr(ot),b=rr(E.exports),wi=rr($i),N=mi,Si=L;function Ni(r,t){for(var e=r,n=0,a=t;n<a.length;n++){var i=a[n];switch(i.type){case"drop":return null;case"drop_properties":Oi(e,i.config);break;case"allow_properties":Ii(e,i.config);break;case"sample_event":if(Ei(e,i.config))break;return null;case"map_properties":Ui(e,i.config);break;case"hash_properties":break;default:throw new Error('Transformer of type "'.concat(i.type,'" is unsupported.'))}}return e}Y.default=Ni;function Oi(r,t){for(var e in t.drop)if(!!t.drop.hasOwnProperty(e)){var n=e===""?r:(0,b.default)(r,e);if(!(typeof n!="object"||n===null))for(var a=0,i=t.drop[e];a<i.length;a++){var o=i[a];delete n[o]}}}function Ii(r,t){for(var e in t.allow)if(!!t.allow.hasOwnProperty(e)){var n=e===""?r:(0,b.default)(r,e);if(!(typeof n!="object"||n===null))for(var a in n)!n.hasOwnProperty(a)||t.allow[e].indexOf(a)===-1&&delete n[a]}}function Ui(r,t){var e=JSON.parse(JSON.stringify(r));for(var n in t.map)if(!!t.map.hasOwnProperty(n)){var a=t.map[n],i=n.split("."),o=void 0;if(i.length>1?(i.pop(),o=(0,b.default)(e,i.join("."))):o=r,typeof o=="object"){if(a.copy){var s=(0,b.default)(e,a.copy);s!==void 0&&(0,N.dset)(r,n,s)}else if(a.move){var u=(0,b.default)(e,a.move);u!==void 0&&(0,N.dset)(r,n,u),(0,Si.unset)(r,a.move)}else a.hasOwnProperty("set")&&(0,N.dset)(r,n,a.set);if(a.to_string){var l=(0,b.default)(r,n);if(typeof l=="string"||typeof l=="object"&&l!==null)continue;l!==void 0?(0,N.dset)(r,n,JSON.stringify(l)):(0,N.dset)(r,n,"undefined")}}}}function Ei(r,t){return t.sample.percent<=0?!1:t.sample.percent>=1?!0:t.sample.path?Li(r,t):Pi(t.sample.percent)}function Pi(r){return Math.random()<=r}function Li(r,t){var e=(0,b.default)(r,t.sample.path),n=(0,Ai.default)(JSON.stringify(e)),a=-64,i=[];pr(n.slice(0,8),i);for(var o=0,s=0;s<64&&i[s]!==1;s++)o++;if(o!==0){var u=[];pr(n.slice(9,16),u),a-=o,i.splice(0,o),u.splice(64-o),i=i.concat(u)}return i[63]=i[63]===0?1:0,(0,wi.default)(parseInt(i.join(""),2),a)<t.sample.percent}function pr(r,t){for(var e=0;e<8;e++)for(var n=r[e],a=128;a>=1;a/=2)n-a>=0?(n-=a,t.push(1)):t.push(0)}var tr={},Fi=m&&m.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tr,"__esModule",{value:!0});var Ti=Fi(E.exports);function Mi(r,t){if(!t)throw new Error("No matcher supplied!");switch(t.type){case"all":return ji();case"fql":return Wi(t.ir,r);default:throw new Error("Matcher of type ".concat(t.type," unsupported."))}}tr.default=Mi;function ji(){return!0}function Wi(r,t){if(!r)return!1;try{r=JSON.parse(r)}catch(n){throw new Error('Failed to JSON.parse FQL intermediate representation "'.concat(r,'": ').concat(n))}var e=$(r,t);return typeof e!="boolean"?!1:e}function $(r,t){if(!Array.isArray(r))return d(r,t)===!0;var e=r[0];switch(e){case"!":return!$(r[1],t);case"or":for(var n=1;n<r.length;n++)if($(r[n],t))return!0;return!1;case"and":for(var n=1;n<r.length;n++)if(!$(r[n],t))return!1;return!0;case"=":case"!=":return Hi(d(r[1],t),d(r[2],t),e,t);case"<=":case"<":case">":case">=":return Ci(d(r[1],t),d(r[2],t),e,t);case"contains":return Di(d(r[1],t),d(r[2],t));case"match":return Ri(d(r[1],t),d(r[2],t));case"lowercase":var a=d(r[1],t);return typeof a!="string"?null:a.toLowerCase();case"typeof":return typeof d(r[1],t);case"length":return zi(d(r[1],t));default:throw new Error("FQL IR could not evaluate for token: ".concat(e))}}function d(r,t){return Array.isArray(r)?r:typeof r=="object"?r.value:(0,Ti.default)(t,r)}function Ci(r,t,e,n){if(U(r)&&(r=$(r,n)),U(t)&&(t=$(t,n)),typeof r!="number"||typeof t!="number")return!1;switch(e){case"<=":return r<=t;case">=":return r>=t;case"<":return r<t;case">":return r>t;default:throw new Error("Invalid operator in compareNumbers: ".concat(e))}}function Hi(r,t,e,n){switch(U(r)&&(r=$(r,n)),U(t)&&(t=$(t,n)),typeof r=="object"&&typeof t=="object"&&(r=JSON.stringify(r),t=JSON.stringify(t)),e){case"=":return r===t;case"!=":return r!==t;default:throw new Error("Invalid operator in compareItems: ".concat(e))}}function Di(r,t){return typeof r!="string"||typeof t!="string"?!1:r.indexOf(t)!==-1}function Ri(r,t){return typeof r!="string"||typeof t!="string"?!1:Gi(t,r)}function zi(r){return r===null?0:!Array.isArray(r)&&typeof r!="string"?NaN:r.length}function U(r){return Array.isArray(r)?(r[0]==="lowercase"||r[0]==="length"||r[0]==="typeof")&&r.length===2||(r[0]==="contains"||r[0]==="match")&&r.length===3:!1}function Gi(r,t){var e,n;r:for(;r.length>0;){var a=void 0,i=void 0;if(e=Xi(r),a=e.star,i=e.chunk,r=e.pattern,a&&i==="")return!0;var o=yr(i,t),s=o.t,u=o.ok,l=o.err;if(l)return!1;if(u&&(s.length===0||r.length>0)){t=s;continue}if(a)for(var f=0;f<t.length;f++){if(n=yr(i,t.slice(f+1)),s=n.t,u=n.ok,l=n.err,u){if(r.length===0&&s.length>0)continue;t=s;continue r}if(l)return!1}return!1}return t.length===0}function Xi(r){for(var t={star:!1,chunk:"",pattern:""};r.length>0&&r[0]==="*";)r=r.slice(1),t.star=!0;var e=!1,n;r:for(n=0;n<r.length;n++)switch(r[n]){case"\\":n+1<r.length&&n++;break;case"[":e=!0;break;case"]":e=!1;break;case"*":if(!e)break r}return t.chunk=r.slice(0,n),t.pattern=r.slice(n),t}function yr(r,t){for(var e,n,a={t:"",ok:!1,err:!1};r.length>0;){if(t.length===0)return a;switch(r[0]){case"[":var i=t[0];t=t.slice(1),r=r.slice(1);var o=!0;r.length>0&&r[0]==="^"&&(o=!1,r=r.slice(1));for(var s=!1,u=0;;){if(r.length>0&&r[0]==="]"&&u>0){r=r.slice(1);break}var l="",f="",c=void 0;if(e=$r(r),l=e.char,r=e.newChunk,c=e.err,c||(f=l,r[0]==="-"&&(n=$r(r.slice(1)),f=n.char,r=n.newChunk,c=n.err,c)))return a;l<=i&&i<=f&&(s=!0),u++}if(s!==o)return a;break;case"?":t=t.slice(1),r=r.slice(1);break;case"\\":if(r=r.slice(1),r.length===0)return a.err=!0,a;default:if(r[0]!==t[0])return a;t=t.slice(1),r=r.slice(1)}}return a.t=t,a.ok=!0,a.err=!1,a}function $r(r){var t={char:"",newChunk:"",err:!1};return r.length===0||r[0]==="-"||r[0]==="]"||r[0]==="\\"&&(r=r.slice(1),r.length===0)?(t.err=!0,t):(t.char=r[0],t.newChunk=r.slice(1),t.newChunk.length===0&&(t.err=!0),t)}var er={};Object.defineProperty(er,"__esModule",{value:!0});var Bi=function(){function r(t){this.rules=[],this.rules=t||[]}return r.prototype.getRulesByDestinationName=function(t){for(var e=[],n=0,a=this.rules;n<a.length;n++){var i=a[n];(i.destinationName===t||i.destinationName===void 0)&&e.push(i)}return e},r}();er.default=Bi;(function(r){var t=m&&m.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(r,"__esModule",{value:!0}),r.Store=r.matches=r.transform=void 0;var e=Y;Object.defineProperty(r,"transform",{enumerable:!0,get:function(){return t(e).default}});var n=tr;Object.defineProperty(r,"matches",{enumerable:!0,get:function(){return t(n).default}});var a=er;Object.defineProperty(r,"Store",{enumerable:!0,get:function(){return t(a).default}})})(I);var Vi=function(r){return function(t){var e=t.payload,n=t.integration,a=t.next,i=new I.Store(r),o=i.getRulesByDestinationName(n);o.forEach(function(s){for(var u=s.matchers,l=s.transformers,f=0;f<u.length;f++)if(I.matches(e.obj,u[f])&&(e.obj=I.transform(e.obj,l[f]),e.obj===null))return a(null)}),a(e)}};function Dr(r){return r.toLowerCase().replace(".","").replace(/\s+/g,"-")}function Rr(r,t){return t===void 0&&(t=!1),t?btoa(r).replace(/=/g,""):void 0}function Ji(r,t,e){var n,a;try{var i=((a=(n=window?.performance)===null||n===void 0?void 0:n.getEntriesByName(r,"resource"))!==null&&a!==void 0?a:[])[0];i&&t.stats.gauge("legacy_destination_time",Math.round(i.duration),Jr([e],i.duration<100?["cached"]:[],!0))}catch{}}function Qi(r,t,e,n,a,i){return h(this,void 0,void 0,function(){var o,s,u,l,f,c,v,O,_;return p(this,function(y){switch(y.label){case 0:o=Dr(e),s=Rr(o,i),u=gr(),l="".concat(u,"/integrations/").concat(s??o,"/").concat(n,"/").concat(s??o,".dynamic.js.gz"),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,ar(l)];case 2:return y.sent(),Ji(l,r,e),[3,4];case 3:throw f=y.sent(),r.stats.gauge("legacy_destination_time",-1,["plugin:".concat(e),"failed"]),f;case 4:return c=window["".concat(o,"Deps")],[4,Promise.all(c.map(function(F){return ar(u+F+".gz")}))];case 5:return y.sent(),window["".concat(o,"Loader")](),v=window["".concat(o,"Integration")],v.Integration&&(O={user:function(){return t.user()},addIntegration:function(){}},v(O),v=v.Integration),_=new v(a),_.analytics=t,[2,_]}})})}function qi(r,t,e){return h(this,void 0,void 0,function(){var n,a,i,o;return p(this,function(s){return n=gr(),a=Dr(r),i=Rr(r,e),o="".concat(n,"/integrations/").concat(i??a,"/").concat(t,"/").concat(i??a,".dynamic.js.gz"),[2,Vr(o)]})})}function Ki(r){var t,e,n,a;return(a=(e=(t=r.versionSettings)===null||t===void 0?void 0:t.override)!==null&&e!==void 0?e:(n=r.versionSettings)===null||n===void 0?void 0:n.version)!==null&&a!==void 0?a:"latest"}var Yi=function(r){return JSON.parse(JSON.stringify(r))};function Zi(r,t){return h(this,void 0,void 0,function(){var e,n=this;return p(this,function(a){switch(a.label){case 0:return e=[],br()?[2,t]:[4,Yr(function(){return t.length>0&&rt()},function(){return h(n,void 0,void 0,function(){var i,o,s;return p(this,function(u){switch(u.label){case 0:return i=t.pop(),i?[4,kr(i,r)]:[2];case 1:return o=u.sent(),s=o instanceof tt,s||e.push(i),[2]}})})})];case 1:return a.sent(),e.map(function(i){return t.pushWithBackoff(i)}),[2,t]}})})}var xi=function(){function r(t,e,n,a){n===void 0&&(n={}),this.options={},this.type="destination",this.middleware=[],this._ready=!1,this._initialized=!1,this.flushing=!1,this.name=t,this.version=e,this.settings=A({},n),this.settings.type&&this.settings.type==="browser"&&delete this.settings.type,this.options=a,this.buffer=a.disableClientPersistence?new Zr(4,[]):new xr(4,"dest-".concat(t)),this.scheduleFlush()}return r.prototype.isLoaded=function(){return this._ready},r.prototype.ready=function(){var t;return(t=this.onReady)!==null&&t!==void 0?t:Promise.resolve()},r.prototype.load=function(t,e){return h(this,void 0,void 0,function(){var n,a=this;return p(this,function(i){switch(i.label){case 0:return this._ready||this.onReady!==void 0?[2]:(n=this,[4,Qi(t,e,this.name,this.version,this.settings,this.options.obfuscate)]);case 1:n.integration=i.sent(),this.onReady=new Promise(function(o){var s=function(){a._ready=!0,o(!0)};a.integration.once("ready",s)}),this.onInitialize=new Promise(function(o){var s=function(){a._initialized=!0,o(!0)};a.integration.on("initialize",s)});try{t.stats.increment("analytics_js.integration.invoke",1,["method:initialize","integration_name:".concat(this.name)]),this.integration.initialize()}catch(o){throw t.stats.increment("analytics_js.integration.invoke.error",1,["method:initialize","integration_name:".concat(this.name)]),o}return[2]}})})},r.prototype.unload=function(t,e){return qi(this.name,this.version,this.options.obfuscate)},r.prototype.addMiddleware=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.middleware=(t=this.middleware).concat.apply(t,e)},r.prototype.shouldBuffer=function(t){return t.event.type!=="page"&&(br()||this._ready===!1||this._initialized===!1)},r.prototype.send=function(t,e,n){var a,i;return h(this,void 0,void 0,function(){var o,s,u,l,f,c;return p(this,function(v){switch(v.label){case 0:if(this.shouldBuffer(t))return this.buffer.push(t),this.scheduleFlush(),[2,t];if(o=(i=(a=this.options)===null||a===void 0?void 0:a.plan)===null||i===void 0?void 0:i.track,s=t.event.event,o&&s&&this.name!=="Segment.io"){if(u=o[s],et(o,u))t.updateEvent("integrations",A(A({},t.event.integrations),u?.integrations));else return t.updateEvent("integrations",A(A({},t.event.integrations),{All:!1,"Segment.io":!0})),t.cancel(new ir({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,t];if(u?.enabled&&u?.integrations[this.name]===!1)return t.cancel(new ir({retry:!1,reason:"Event ".concat(s," disabled for integration ").concat(this.name," in tracking plan"),type:"Dropped by plan"})),[2,t]}return[4,nt(this.name,Yi(t.event),this.middleware)];case 1:if(l=v.sent(),l===null)return[2,t];f=new e(l,{}),t.stats.increment("analytics_js.integration.invoke",1,["method:".concat(n),"integration_name:".concat(this.name)]),v.label=2;case 2:return v.trys.push([2,5,,6]),this.integration?[4,Qr(this.integration.invoke.call(this.integration,n,f))]:[3,4];case 3:v.sent(),v.label=4;case 4:return[3,6];case 5:throw c=v.sent(),t.stats.increment("analytics_js.integration.invoke.error",1,["method:".concat(n),"integration_name:".concat(this.name)]),c;case 6:return[2,t]}})})},r.prototype.track=function(t){return h(this,void 0,void 0,function(){return p(this,function(e){return[2,this.send(t,w.Track,"track")]})})},r.prototype.page=function(t){var e;return h(this,void 0,void 0,function(){var n=this;return p(this,function(a){return((e=this.integration)===null||e===void 0?void 0:e._assumesPageview)&&!this._initialized&&this.integration.initialize(),[2,this.onInitialize.then(function(){return n.send(t,w.Page,"page")})]})})},r.prototype.identify=function(t){return h(this,void 0,void 0,function(){return p(this,function(e){return[2,this.send(t,w.Identify,"identify")]})})},r.prototype.alias=function(t){return h(this,void 0,void 0,function(){return p(this,function(e){return[2,this.send(t,w.Alias,"alias")]})})},r.prototype.group=function(t){return h(this,void 0,void 0,function(){return p(this,function(e){return[2,this.send(t,w.Group,"group")]})})},r.prototype.scheduleFlush=function(){var t=this;this.flushing||setTimeout(function(){return h(t,void 0,void 0,function(){var e;return p(this,function(n){switch(n.label){case 0:return this.flushing=!0,e=this,[4,Zi(this,this.buffer)];case 1:return e.buffer=n.sent(),this.flushing=!1,this.buffer.todo>0&&this.scheduleFlush(),[2]}})})},Math.random()*5e3)},r}();function eo(r,t,e){var n,a;if(t===void 0&&(t={}),e===void 0&&(e={}),qr())return[];r.plan&&(e=e??{},e.plan=r.plan);var i=(a=(n=r.middlewareSettings)===null||n===void 0?void 0:n.routingRules)!==null&&a!==void 0?a:[],o=Vi(i),s=Kr(r,e??{});return Object.entries(r.integrations).map(function(u){var l,f=u[0],c=u[1];if(!f.startsWith("Segment")){var v=t.All===!1&&t[f]===void 0;if(!(t[f]===!1||v)){var O=c.type,_=c.bundlingStatus,y=c.versionSettings,F=_!=="unbundled"&&(O==="browser"||((l=y?.componentTypes)===null||l===void 0?void 0:l.includes("browser")));if(!(!F&&f!=="Segment.io"||f==="Iterable")){var zr=Ki(c),nr=new xi(f,zr,s[f],e),Gr=i.filter(function(Xr){return Xr.destinationName===f});return Gr.length>0&&nr.addMiddleware(o),nr}}}}).filter(function(u){return u!==void 0})}export{xi as LegacyDestination,eo as ajsDestinations};
